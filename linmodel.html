<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl" xml:lang="nl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Regressie-analyse met R.">

<title>Regressie - 1&nbsp; Lineair model</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./diagnoses.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Geen resultaten",
    "search-matching-documents-text": "Gevonden documenten",
    "search-copy-link-title": "Kopieer link om te zoeken",
    "search-hide-matches-text": "Extra overeenkomsten verbergen",
    "search-more-match-text": "meer overeenkomst in dit document",
    "search-more-matches-text": "meer overeenkomsten in dit document",
    "search-clear-button-title": "Wissen",
    "search-detached-cancel-button-title": "Annuleren",
    "search-submit-button-title": "Verzenden"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lineair model</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Regressie</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Inleiding</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linmodel.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lineair model</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diagnoses.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Diagnostische grafieken</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./catregressie.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Categoriale Regressie</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlatie.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Correlatie</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./voorwaarden.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Voorwaarden</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./overfitting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Over- en underfitting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logitmodel.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Logistisch model</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./voorbeelden.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Voorbeelden</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./referenties.html" class="sidebar-item-text sidebar-link">Referenties</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhoudsopgave</h2>
   
  <ul>
  <li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data"><span class="toc-section-number">1.1</span>  Data</a></li>
  <li><a href="#splitsing-data" id="toc-splitsing-data" class="nav-link" data-scroll-target="#splitsing-data"><span class="toc-section-number">1.2</span>  Splitsing data</a></li>
  <li><a href="#regressiemodel" id="toc-regressiemodel" class="nav-link" data-scroll-target="#regressiemodel"><span class="toc-section-number">1.3</span>  Regressiemodel</a></li>
  <li><a href="#voorspellingen" id="toc-voorspellingen" class="nav-link" data-scroll-target="#voorspellingen"><span class="toc-section-number">1.4</span>  Voorspellingen</a></li>
  <li><a href="#beoordeling-model" id="toc-beoordeling-model" class="nav-link" data-scroll-target="#beoordeling-model"><span class="toc-section-number">1.5</span>  Beoordeling model</a>
  <ul class="collapse">
  <li><a href="#residual-standard-error-rse" id="toc-residual-standard-error-rse" class="nav-link" data-scroll-target="#residual-standard-error-rse"><span class="toc-section-number">1.5.1</span>  Residual Standard Error (RSE)</a></li>
  <li><a href="#r-squared-en-adjusted-r-squared" id="toc-r-squared-en-adjusted-r-squared" class="nav-link" data-scroll-target="#r-squared-en-adjusted-r-squared"><span class="toc-section-number">1.5.2</span>  R-squared en adjusted R-squared</a></li>
  <li><a href="#f-statistiek" id="toc-f-statistiek" class="nav-link" data-scroll-target="#f-statistiek"><span class="toc-section-number">1.5.3</span>  F-statistiek</a></li>
  <li><a href="#significantie-coëfficienten" id="toc-significantie-coëfficienten" class="nav-link" data-scroll-target="#significantie-coëfficienten"><span class="toc-section-number">1.5.4</span>  Significantie coëfficienten</a></li>
  </ul></li>
  <li><a href="#aanpassing-model" id="toc-aanpassing-model" class="nav-link" data-scroll-target="#aanpassing-model"><span class="toc-section-number">1.6</span>  Aanpassing model</a>
  <ul class="collapse">
  <li><a href="#anova" id="toc-anova" class="nav-link" data-scroll-target="#anova"><span class="toc-section-number">1.6.1</span>  Anova</a></li>
  <li><a href="#residuen" id="toc-residuen" class="nav-link" data-scroll-target="#residuen"><span class="toc-section-number">1.6.2</span>  Residuen</a></li>
  <li><a href="#diagnostische-grafieken" id="toc-diagnostische-grafieken" class="nav-link" data-scroll-target="#diagnostische-grafieken"><span class="toc-section-number">1.6.3</span>  Diagnostische grafieken</a></li>
  </ul></li>
  <li><a href="#testen-met-testdata" id="toc-testen-met-testdata" class="nav-link" data-scroll-target="#testen-met-testdata"><span class="toc-section-number">1.7</span>  Testen met testData</a>
  <ul class="collapse">
  <li><a href="#rmse" id="toc-rmse" class="nav-link" data-scroll-target="#rmse">RMSE</a></li>
  <li><a href="#r2" id="toc-r2" class="nav-link" data-scroll-target="#r2">R2</a></li>
  <li><a href="#mae" id="toc-mae" class="nav-link" data-scroll-target="#mae">MAE</a></li>
  </ul></li>
  <li><a href="#interactie-effecten" id="toc-interactie-effecten" class="nav-link" data-scroll-target="#interactie-effecten"><span class="toc-section-number">1.8</span>  Interactie-effecten</a></li>
  <li><a href="#kruisvalidatie" id="toc-kruisvalidatie" class="nav-link" data-scroll-target="#kruisvalidatie"><span class="toc-section-number">1.9</span>  Kruisvalidatie</a>
  <ul class="collapse">
  <li><a href="#k-voudige-kruisvalidatie" id="toc-k-voudige-kruisvalidatie" class="nav-link" data-scroll-target="#k-voudige-kruisvalidatie"><span class="toc-section-number">1.9.1</span>  k-voudige kruisvalidatie</a></li>
  <li><a href="#herhaalde-k-voudige-kruisvalidatie" id="toc-herhaalde-k-voudige-kruisvalidatie" class="nav-link" data-scroll-target="#herhaalde-k-voudige-kruisvalidatie"><span class="toc-section-number">1.9.2</span>  Herhaalde k-voudige kruisvalidatie</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="linregressie" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lineair model</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Lineaire regressie is een methode voor het voorspellen van de waarde van een continue variabele. Hierbij wordt een lineair verband tussen de uitkomst en de voorspellende variabelen verondersteld.</p>
<p><strong>Enkelvoudige lineaire regressie</strong></p>
<p>Dit is een model met 1 voorspellende variabele:</p>
<p><span class="math inline">\(y = b_0 + b_1x_1 + \epsilon\)</span></p>
<p><strong>Meervoudige lineaire regressie</strong></p>
<p>Dit is een model met 2 of meer voorspellende variabelen:</p>
<p><span class="math inline">\(y = b_0 + b_1x_1 + b_2x_2 + ... \epsilon\)</span></p>
<p>met</p>
<ul>
<li><span class="math inline">\(b_0\)</span>: is de constante (intercept, as-afsnede), dit is de waarde voor <span class="math inline">\(y\)</span> voor alle <span class="math inline">\(x_i=0\)</span>.</li>
<li><span class="math inline">\(b_1, b_2, ...\)</span>: zijn de <strong>richtingscoëfficienten</strong>, welke de verandering meten van <span class="math inline">\(x_i\)</span> m.b.t. de verandering van <span class="math inline">\(y\)</span>.</li>
<li><span class="math inline">\(\epsilon\)</span> is de fout, het <strong>residu</strong> welke het verschil tussen de werkelijke waarde en de voorspelde waarde aangeeft. En dus de invloed van andere factoren op de variabele <span class="math inline">\(y\)</span>.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>In sommige situaties kan er een <strong>interactie-effect</strong> zijn tussen de voorspellende variabelen.</p>
</div>
</div>
<p>Je kunt niet de foutterm volledig elimineren, maar wel proberen deze zo klein mogelijk te maken. De hiervoor gebruikte techniek staat bekend als <em>Ordinary Least Square (OLS)</em>, ofwel de <em>Kleinste Kwadraten Methode</em>. Via deze metho wordt geprobeerd om de best mogelijke waarden voor de parameters te vinden door de som van de kwadratische residuen te minimaliseren.</p>
<p>Een uitleg van de methode wordt gedaan aan de hand van de dataset <code>marketing</code>, afkomstig het boek “Machine Learning Essentials with R” <span class="citation" data-cites="kassambaraMachineLearningEssentials2018">[<a href="referenties.html#ref-kassambaraMachineLearningEssentials2018" role="doc-biblioref">11</a>]</span></p>
<section id="data" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="data"><span class="header-section-number">1.1</span> Data</h2>
<p>De dataset <code>marketing</code>, afkomstig uit package <code>datarium</code>, bevat de impact van drie advertentiemedia (<code>youtube</code>, <code>facebook</code> en <code>newspaper</code>) op de verkopen (<code>sales</code>). Het doel is het voorspellen van de verkopen op basis van de hoeveelheid geld (in duizenden dollars) die aan de drie advertentiemedia wordt uitgegeven.</p>
<p><strong>Variabelen</strong></p>
<ul>
<li>uitkomstvariabele
<ul>
<li><code>sales</code></li>
</ul></li>
<li>voorspelvariabelen
<ul>
<li><code>youtube</code></li>
<li><code>facebook</code></li>
<li><code>newspaper</code></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"marketing"</span>, <span class="at">package =</span> <span class="st">"datarium"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(marketing)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  youtube facebook newspaper sales
1   276.1     45.4      83.0 26.52
2    53.4     47.2      54.1 12.48
3    20.6     55.1      83.2 11.16
4   181.8     49.6      70.2 22.20
5   217.0     13.0      70.1 15.48
6    10.4     58.7      90.0  8.64</code></pre>
</div>
</div>
<p><strong>Correlaties</strong></p>
<p>Om te zien of de aannames van het lineaire model geschikt zijn voor de beschikbare gegevens, worden de correlaties tussen de variabelen bekeken: een scatterplot en de correlatiecoëfficienten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(marketing)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(marketing)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          youtube facebook newspaper sales
youtube    1.0000   0.0548    0.0566 0.782
facebook   0.0548   1.0000    0.3541 0.576
newspaper  0.0566   0.3541    1.0000 0.228
sales      0.7822   0.5762    0.2283 1.000</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-marketing-correlaties" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="linmodel_files/figure-html/fig-marketing-correlaties-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figuur&nbsp;1.1: Correlaties tussen de variabelen.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Lineaire regressie veronderstelt een lineair verband tussen de uitkomstvariabele en de voorspelvariabele(n). De grafieken van <code>sales</code> tegen <code>youtube</code> en <code>facebook</code> tonen een stijgend lineair verband. Die tegen <code>newspaper</code> toont geen lineair verband. Vooralsnog wordt <code>newspaper</code> in het model meegenomen.</p>
<p>Het doel is om een wiskundige formule te maken die <code>sales</code> definieert als functie van <code>youtube</code>, <code>facebook</code> en <code>newspaper</code>. Het regressiemodel wordt dan</p>
<p><span class="math inline">\(sales = b_0 + b_1*youtube + b_2*facebook + b_3*newspaper\)</span></p>
<p>De workflow wordt nu</p>
<ol type="1">
<li>Splits de gegevens willekeurig in een trainingsset (80%) en een testset (20%).</li>
<li>Maak een regressiemodel met de trainingsset. Beoordeel het model en pas het eventueel aan.</li>
<li>Maak met het regressiemodel voorspellingen voor de testset en bereken de nauwkeurigheid van de voorspellingen.</li>
</ol>
</section>
<section id="splitsing-data" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="splitsing-data"><span class="header-section-number">1.2</span> Splitsing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>trainRijnummers <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(<span class="at">y =</span> marketing<span class="sc">$</span>sales, <span class="at">p=</span><span class="fl">0.8</span>, <span class="at">list =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>trainData <span class="ot">&lt;-</span> marketing[trainRijnummers, ]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>testData <span class="ot">&lt;-</span> marketing[<span class="sc">-</span>trainRijnummers, ]</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Voor de <code>trainData</code> met 162 waarnemingen wordt vervolgens een lineair regressiemodel gemaakt.</p>
</section>
<section id="regressiemodel" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="regressiemodel"><span class="header-section-number">1.3</span> Regressiemodel</h2>
<p>Voor het bepalen van een lineair regressiemodel voor <code>trainData</code> wordt de R-functie <code>lm()</code> gebruikt. Via de kleinste kwadraten methode worden de coëfficienten van de regressievergelijking bepaald.</p>
<p>Daarna wordt een t-test uitgevoerd om te controleren of deze coëfficiënten significant verschillen van nul. Wanneer een coëfficiënt niet nul is, dan is er een significant verband tussen de voorspelvariabele(n) <span class="math inline">\(x\)</span> en de uitkomstvariabele <span class="math inline">\(y\)</span>.</p>
<p>Syntax: <code>lm(formula, data, ...)</code> met</p>
<ul>
<li><em>formula</em> - Dit is de modelformule, met de uitkomstvariabele aan de linkerkant van de tilde <code>~</code> en de voorspelvariabelen aan de rechterkant.</li>
<li><em>data</em> - Dataframe met de variabelen in het model.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>De syntax aan de rechterkant in de modelformule is volgens de <em>Wilkinson-Rogers</em> specificatie. Hierbij worden de volgende symbolen gebruikt.</p>
<ul>
<li><code>+</code> om variabelen te combineren, bijvoorbeeld <code>var1 + var2</code>.</li>
<li><code>:</code> voor interacties tussen de voorspelvariabelen, bijvoorbeeld <code>var1:var2</code>.</li>
<li><code>*</code> voor zowel variabelen zelf als interacties daartussen, zo is bijvoorbeeld <code>var1*var2</code> hetzelfde als <code>var1 + var2 + var1:var2</code>.</li>
<li><code>.</code> indicatie voor <em>alle</em> voorspelvariabelen.</li>
</ul>
<p>In de modelformule mogen ook wiskundige functies voorkomen zoals bijvoorbeeld <code>log()</code> of <code>poly()</code>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(sales <span class="sc">~</span> ., <span class="at">data =</span> trainData)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>model</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = sales ~ ., data = trainData)

Coefficients:
(Intercept)      youtube     facebook    newspaper  
    3.59414      0.04464      0.18882      0.00284  </code></pre>
</div>
</div>
<p>De regressievergelijking wordt:</p>
<p><span class="math inline">\(sales = 3.594 + 0.0446*youtube + 0.1888*facebook + 0.00284*newspaper\)</span></p>
</section>
<section id="voorspellingen" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="voorspellingen"><span class="header-section-number">1.4</span> Voorspellingen</h2>
<p>Voorspellingen kunnen gemaakt worden met de R-functie <code>predict</code>. Wanneer het object een lineair model is dan wordt op de achtergrond de functie <code>predict.lm</code> gebruikt.</p>
<p>Syntax: <code>predict(object, newdata, ...)</code></p>
<ul>
<li><code>object</code>: een “lm” object</li>
<li><code>newdata</code>: een dataframe met de waarden voor de voorspelvariabelen waarvoor de waarde van de uitkomstvariabele geschat moet worden.</li>
</ul>
<p>Als voorbeeld de voorspelling van <code>sales</code> wanneer 1000 in alledrie de media geïnvesteerd wordt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>scenario1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">youtube =</span> <span class="dv">1000</span>, <span class="at">facebook =</span> <span class="dv">1000</span>, <span class="at">newspaper =</span> <span class="dv">1000</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object =</span> model, <span class="at">newdata =</span> scenario1)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  1 
240 </code></pre>
</div>
</div>
<p>Je kunt ook meerdere voorspellingen tegelijk maken:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>scenario2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">youtube =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>), </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">facebook =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">1500</span>), </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">newspaper =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">500</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object =</span> model, <span class="at">newdata =</span> scenario2)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  1   2 
240 378 </code></pre>
</div>
</div>
</section>
<section id="beoordeling-model" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="beoordeling-model"><span class="header-section-number">1.5</span> Beoordeling model</h2>
<p>Met <code>summary()</code> krijg je meer details over het model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = sales ~ ., data = trainData)

Residuals:
    Min      1Q  Median      3Q     Max 
-10.714  -0.994   0.368   1.449   3.362 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  3.59414    0.42081    8.54  1.1e-14 ***
youtube      0.04464    0.00155   28.76  &lt; 2e-16 ***
facebook     0.18882    0.00953   19.82  &lt; 2e-16 ***
newspaper    0.00284    0.00644    0.44     0.66    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.04 on 158 degrees of freedom
Multiple R-squared:  0.895, Adjusted R-squared:  0.893 
F-statistic:  451 on 3 and 158 DF,  p-value: &lt;2e-16</code></pre>
</div>
</div>
<ul>
<li><p><em>Residuals</em> : Geeft een overzicht van de verdeling van de residuen. Het gemiddelde hiervan moet nul zijn wat je kunt controleren met <code>mean(model$residuals)</code>: -2.646^{-18}.</p></li>
<li><p><em>Coefficients</em> : De waarden van de coëfficienten in de regressievergelijking met bijbehorende statistieken.</p>
<ul>
<li><code>Estimate</code> : Geeft de waarde van de coëfficient.</li>
<li><code>Std. Error</code> : Standaardfout van de coëfficient. Geeft nauwkeurigheid weer: hoe lager hoe beter</li>
<li><code>t value</code> : Geeft de waarde van de coëfficient aan in termen van de standaardfout. t-waarde = Estimate / Std.Error</li>
<li><code>Pr(&gt;|t|)</code> : p-waarde voor de t-toets, die de significantie van de teststatistiek aangeeft. Hoe kleiner des te significanter (met sterren).</li>
</ul></li>
</ul>
<p>De algehele kwaliteit van de lineaire regressiefit kan worden beoordeeld aan de hand van de volgende drie grootheden, weergegeven in het modeloverzicht:</p>
<ul>
<li>Residual Standard Error (RSE)</li>
<li>R-squared (<span class="math inline">\(R^2\)</span>) en adjusted R-squared</li>
<li>F-statistic</li>
</ul>
<section id="residual-standard-error-rse" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="residual-standard-error-rse"><span class="header-section-number">1.5.1</span> Residual Standard Error (RSE)</h3>
<p>De RSE, die overeenkomt met de voorspellingsfout, vertegenwoordigt ruwweg het gemiddelde verschil tussen de waargenomen uitkomstwaarden en de voorspelde waarden door het model. De RSE wordt uitgedrukt in dezelfde eenheid als de uitkomstvariabele. Hoe lager de RSE, hoe beter het model bij onze gegevens past.</p>
<p><span class="math inline">\(RSE = \frac{\sqrt{(\text{som residuen})^2}}{\text{aantal vrijheidsgraden}}\)</span></p>
<p>Als je de RSE deelt door de gemiddelde waarde van de uitkomstvariabele, krijg je het voorspellingsfoutpercentage, dat zo klein mogelijk moet zijn.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>In het voorbeeld is de RSE = 2,04, wat betekent dat de waargenomen waarden van <code>sales</code> gemiddeld ongeveer 2,04 eenheden afwijken van de voorspelde waarden.</p>
<p>Dit komt overeen met een foutpercentage van 2,04/mean(trainData$sales) = 2,04/16,9 = 12%, wat laag is.</p>
</div>
</div>
</section>
<section id="r-squared-en-adjusted-r-squared" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="r-squared-en-adjusted-r-squared"><span class="header-section-number">1.5.2</span> R-squared en adjusted R-squared</h3>
<p><span class="math inline">\(R^2\)</span>, weergegeven als <em>R squared</em> in de uitvoer, geeft aan welk deel van de totale variantie verklaard wordt door het model.</p>
<p><span class="math inline">\(R^2 = \frac{\text{Verklaarde variantie}} {\text{Totale variantie}}\)</span></p>
<p>De <span class="math inline">\(R^2\)</span> heeft een bereik van 0 tot 1. Voor modellen die goed bij de gegevens passen is de waarde nagenoeg 1. Voor modellen die slecht passen ligt de waarde dicht bij 0.</p>
<p>Een probleem met de <span class="math inline">\(R^2\)</span> is dat deze toeneemt wanneer je meer onafhankelijke variabelen aan het model toevoegt, zelfs als de nieuw toegevoegde variabelen niet aan een verbetering van het model bijdragen. Een oplossing is om de <span class="math inline">\(R^2\)</span> aan te passen door rekening te houden met het aantal voorspellende variabelen. Dit doet de <em>Adjusted R Squared</em>, welke een correctie is voor het aantal voorspelvariabelen dat in het model is opgenomen.</p>
<p>Om deze reden is het beter om de <em>Adjusted R Squared</em> als maatstaf te gebruiken, want deze neemt alleen toe wanneer de fout afneemt.</p>
<p>Als er een aanzienlijk verschil is tussen <em>R squared</em> en <em>Adjusted R Squared</em>, geeft dit aan dat je kunt overwegen om het aantal kenmerken in het model te verkleinen.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Voor het voorbeeld is de <em>Adjusted R Square</em> 0,893 wat een goede waarde is. Dus zo’n 89% van de variabiliteit in de uitkomsten wordt verklaard door het regressiemodel.</p>
</div>
</div>
</section>
<section id="f-statistiek" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="f-statistiek"><span class="header-section-number">1.5.3</span> F-statistiek</h3>
<p>De F-statistic geeft de overall significantie van het model weer. Het is de verhouding tussen de verklaarde en onverklaarde variantie. Het beoordeelt of ten minste één voorspellende variabele een coëfficiënt heeft die niet nul is. Wanneer de p-waarde van F-statistic klein is dan houdt dat in minstens een van de voorspelvariabelen significant gerelateerd is aan de uitkomstvariabele.</p>
<p>In een eenvoudige lineaire regressie is deze test niet echt interessant, omdat deze statistiek gewoon de informatie dupliceert die wordt gegeven door de t-test, welke beschikbaar is in de coëfficiëntentabel.</p>
<p>De F-statistiek wordt belangrijker zodra er meerdere voorspellers zijn zoals bij meervoudige lineaire regressie.</p>
<p>Een grote F-statistiek komt overeen met een statistisch significante p-waarde (p &lt; 0,05).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>In het voorbeeld is de F-statistic gelijk aan 451 en produceert een p-waarde &lt;2e-16, wat zeer significant is.</p>
</div>
</div>
</section>
<section id="significantie-coëfficienten" class="level3" data-number="1.5.4">
<h3 data-number="1.5.4" class="anchored" data-anchor-id="significantie-coëfficienten"><span class="header-section-number">1.5.4</span> Significantie coëfficienten</h3>
<p>Onder de tekst Coefficients zie je de rijen voor Intercept en de variabelen. Aan het eind van deze rijen kunnen sterren staan. Deze sterren geven aan dat de betreffende rij significant is, dus dat het voor deze regressie van belang is dat deze variabele in het model wordt gebruikt. Des te meer sterren, des te meer significantie. Een aanduiding met één ster is al genoeg om aan te tonen dat de variabele significant is. Als er geen sterren staan is de variabele niet significant, dus niet verklarend genoeg in de regressie.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Het is te zien dat veranderingen in het advertentiebudget van <code>youtube</code> en <code>facebook</code> significant geassocieerd zijn met veranderingen in <code>sales</code>, terwijl veranderingen in <code>newspaper</code> niet significant geassocieerd zijn met <code>sales</code>.</p>
</div>
</div>
</section>
</section>
<section id="aanpassing-model" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="aanpassing-model"><span class="header-section-number">1.6</span> Aanpassing model</h2>
<p>Omdat de variabele <code>newspaper</code> niet significant is, kun je deze uit het model verwijderen en onderzoeken of het nieuwe model beter is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(sales <span class="sc">~</span> youtube <span class="sc">+</span> facebook, <span class="at">data =</span> trainData)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model2) <span class="co"># coëfficienten regressievergelijking</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)     youtube    facebook 
     3.6586      0.0446      0.1902 </code></pre>
</div>
</div>
<p>De regressievergelijking wordt nu:</p>
<p><span class="math inline">\(sales = 3.6586 + 0.0446*youtube + 0.1902*facebook\)</span></p>
<p>Met <code>fitted()</code> krijg je de berekende waarden volgens de regressievergelijking.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">fitted</span>(model2), <span class="dv">10</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1     4     5     7     8     9    10    11    12    13 
24.61 21.20 15.81 14.22 14.57  4.60 14.96  8.52 20.64 12.94 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model2)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = sales ~ youtube + facebook, data = trainData)

Residuals:
    Min      1Q  Median      3Q     Max 
-10.813  -1.007   0.324   1.464   3.345 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  3.65858    0.39361    9.29   &lt;2e-16 ***
youtube      0.04465    0.00155   28.85   &lt;2e-16 ***
facebook     0.19017    0.00901   21.11   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.04 on 159 degrees of freedom
Multiple R-squared:  0.895, Adjusted R-squared:  0.894 
F-statistic:  680 on 2 and 159 DF,  p-value: &lt;2e-16</code></pre>
</div>
</div>
<p>Alle coëfficienten zijn significant en de F-statistic is flink omhoog gegaan. De <span class="math inline">\(R^2\)</span>, de gecorrigeerde <span class="math inline">\(R^2\)</span> en de RSE zijn nauwelijks veranderd.</p>
<section id="anova" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="anova"><span class="header-section-number">1.6.1</span> Anova</h3>
<p>Met de functie <code>anova()</code> krijg je een hiërarchische variantie-analyse van elk van de termen in het model, in dezelfde volgorde als in de modelformule.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(model2)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: sales
           Df Sum Sq Mean Sq F value Pr(&gt;F)    
youtube     1   3799    3799     915 &lt;2e-16 ***
facebook    1   1852    1852     446 &lt;2e-16 ***
Residuals 159    660       4                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="residuen" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="residuen"><span class="header-section-number">1.6.2</span> Residuen</h3>
<p>Een lineair model met goede <span class="math inline">\(p\)</span>- en <span class="math inline">\(R^2\)</span>-waarden hoeft niet persé een goed model te zijn. Deze waarden vertellen niet het hele verhaal. Je moet ook altijd naar de residuen (Residuals) kijken, dus de verschillen tussen de werkelijke waarden en de voorspelde waarden volgens de regressievergelijking. Residuen kunnen onverklaarde patronen onthullen in de gegevens van het toegepaste model.</p>
<p>Bij een goed model moet het gemiddelde en som van de residuen bij benadering zo dicht mogelijk bij nul liggen. Daarnaast moeten de waarden willekeurig verdeeld zijn. Je kunt dit beoordelen door een grafiek van de residuen te maken. Met deze informatie kun je niet alleen controleren of aan de aannames voor lineaire regressie voldaan is, maar kun je het model ook op een verkennende manier verbeteren.</p>
<p>Met <code>residuals()</code> krijg je de individuele residuen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">residuals</span>(model2))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       4       5       7       8       9 
 1.9068  0.9995 -0.3304 -0.0643  1.2684  1.1614 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gemiddelde van de residuen</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">residuals</span>(model2))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -9.61e-17</code></pre>
</div>
</div>
</section>
<section id="diagnostische-grafieken" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="diagnostische-grafieken"><span class="header-section-number">1.6.3</span> Diagnostische grafieken</h3>
<p>Voor verdere uitleg hierover zie <a href="diagnoses.html"><span>Hoofdstuk&nbsp;2</span></a>.</p>
<div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model2)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-marketing-model2-diagnose" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-marketing-model2-diagnose-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="linmodel_files/figure-html/fig-marketing-model2-diagnose-1.png" class="img-fluid figure-img" data-ref-parent="fig-marketing-model2-diagnose" width="576"></p>
<p></p><figcaption class="figure-caption">(a) Residuals - Fitted values</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-marketing-model2-diagnose-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="linmodel_files/figure-html/fig-marketing-model2-diagnose-2.png" class="img-fluid figure-img" data-ref-parent="fig-marketing-model2-diagnose" width="576"></p>
<p></p><figcaption class="figure-caption">(b) Normal Q-Q</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-marketing-model2-diagnose-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="linmodel_files/figure-html/fig-marketing-model2-diagnose-3.png" class="img-fluid figure-img" data-ref-parent="fig-marketing-model2-diagnose" width="576"></p>
<p></p><figcaption class="figure-caption">(c) Scale-Location</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-marketing-model2-diagnose-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="linmodel_files/figure-html/fig-marketing-model2-diagnose-4.png" class="img-fluid figure-img" data-ref-parent="fig-marketing-model2-diagnose" width="576"></p>
<p></p><figcaption class="figure-caption">(d) Residuals - Leverage</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figuur&nbsp;1.2: Diagnostische grafieken</figcaption><p></p>
</figure>
</div>
</div>
</section>
</section>
<section id="testen-met-testdata" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="testen-met-testdata"><span class="header-section-number">1.7</span> Testen met testData</h2>
<p>Voor het testen wordt het laatste, aangepaste <code>model2</code> gebruikt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>voorspellingen <span class="ot">&lt;-</span> <span class="fu">predict</span>(model2, testData)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>De functie <code>postResample(pred, obs)</code> uit package <code>caret</code> kan gebruikt worden om de Root Mean Squared Error (RMSE), de eenvoudige <span class="math inline">\(R^2\)</span> en de Mean Absolute Error (MAE) te bepalen. Je kunt desgewenst ook de afzonderlijke functies <code>RMSE(pred, obs)</code>, <code>R2(pred, obs)</code> en <code>MAE(pred, obs)</code> gebruiken.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">postResample</span>(<span class="at">pred =</span> voorspellingen, <span class="at">obs =</span> testData<span class="sc">$</span>sales)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    RMSE Rsquared      MAE 
   1.949    0.907    1.422 </code></pre>
</div>
</div>
<section id="rmse" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="rmse">RMSE</h3>
<p>De RMSE is een metriek die je vertelt hoe ver de voorspelde waarden (pred = predicted) gemiddeld verwijderd zijn van de waargenomen waarden (obs = observed) in een regressieanalyse, ofwel de voorspellingsfout van het model. Hoe lager de RMSE, des te beter het model.</p>
<p>Het wordt berekend via:</p>
<p><span class="math inline">\(RMSE = \sqrt{\frac{\sum_{i=1}^{n}(pred_i - obs_i)^2}{n}}\)</span></p>
<p>De RMSE kan gezien worden als de standaardafwijking van de onverklaarbare variantie en wordt uitgedrukt in dezelfde eenheid als de vorspelvariabele. RMSE is een goede maat voor de nauwkeurigheid waarmee het model voorspellingen doet en is een belangrijk criterium wanneer het hoofddoel het doen van voorspellingen is.</p>
</section>
<section id="r2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r2">R2</h3>
<p>De R2 berekening in caret is een rechttoe rechtaan berekening van de correlatie tussen de waargenomen en voorspelde waarden (dus <span class="math inline">\(R\)</span>) en daarna het kwadrateren van deze waarde. Wanneer het model slecht is, kan dit leiden tot verschillen tussen deze schatter en de meer algemeen bekende schatting afgeleid van lineaire regressiemodellen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># correlatiecoefficient R</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(voorspellingen, testData<span class="sc">$</span>sales)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.952</code></pre>
</div>
</div>
</section>
<section id="mae" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="mae">MAE</h3>
<p>Net als de RMSE meet MAE de voorspelfout en is wat minder gevoelig voor uitbijters. De MAE wordt berekend via</p>
<p><span class="math inline">\(MAE = \frac{\sum_{i=1}^{n}|pred_i - obs_i|}{n}\)</span></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>De RMSE is 1,95, wat overeenkomt met een foutpercentage van 1,95/mean(testData$sales) = 1,97/16.7 = 11,7%, wat ook goed is.</p>
<p>Een R-kwadraat van 0,907 betekent dat de waargenomen en voorspelde uitkomstwaarden sterk gecorreleerd zijn, wat erg goed is.</p>
<p>En een MAE van 1,4 is ook goed.</p>
</div>
</div>
</section>
</section>
<section id="interactie-effecten" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="interactie-effecten"><span class="header-section-number">1.8</span> Interactie-effecten</h2>
<p>Het tot nu toe gebruikte model is een <em>additief model</em>:</p>
<p><span class="math inline">\(sales = b_0 + b_1*youtube + b_2*facebook\)</span></p>
<p>Hierbij wordt verondersteld dat er geen relatie is tussen de voorspelvariabelen <code>youtube</code> en <code>facebook</code>. Deze veronderstelling is misschien niet waar. Geld uitgeven aan Facebook-advertenties kan bijvoorbeeld de effectiviteit van YouTube-advertenties op de verkoop vergroten. In marketing staat dit bekend als een <em>synergie-effect</em> en in statistieken wordt het een <em>interactie-effect</em> genoemd</p>
<p>Een regressievergelijking met interactie-effecten tussen deze voorspelvariabelen kan er als volgt uitzien:</p>
<p><span class="math inline">\(sales = b_0 + b_1*youtube + b_2*facebook + b_3*(youtube*facebook)\)</span></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\(b_3\)</span> kan worden geïnterpreteerd als de toename van de effectiviteit van YouTube-advertenties voor een toename van één eenheid in Facebook-advertenties (of omgekeerd).</p>
</div>
</div>
<p>Het model wordt dan</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(sales <span class="sc">~</span> youtube <span class="sc">+</span> facebook <span class="sc">+</span> youtube<span class="sc">:</span>facebook, <span class="at">data=</span>trainData)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model3)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = sales ~ youtube + facebook + youtube:facebook, data = trainData)

Residuals:
   Min     1Q Median     3Q    Max 
-7.632 -0.505  0.267  0.743  1.811 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      8.18e+00   3.31e-01   24.74   &lt;2e-16 ***
youtube          1.86e-02   1.66e-03   11.20   &lt;2e-16 ***
facebook         2.78e-02   1.02e-02    2.74   0.0069 ** 
youtube:facebook 9.14e-04   4.95e-05   18.47   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.15 on 158 degrees of freedom
Multiple R-squared:  0.967, Adjusted R-squared:  0.966 
F-statistic: 1.54e+03 on 3 and 158 DF,  p-value: &lt;2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>voorspellingen <span class="ot">&lt;-</span> <span class="fu">predict</span>(<span class="at">object =</span> model3, <span class="at">newdata =</span> testData)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">RMSE</span>(voorspellingen, testData<span class="sc">$</span>sales)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">R2</span>(voorspellingen, testData<span class="sc">$</span>sales)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.972</code></pre>
</div>
</div>
<p><strong>Interpretatie</strong></p>
<p>Het is te zien dat alle coëfficiënten, inclusief de interactietermcoëfficiënt, statistisch significant zijn, wat suggereert dat er een interactierelatie is tussen de twee voorspellende variabelen <code>youtube</code> en <code>facebook</code>.</p>
<p>De regressievergelijking ziet er nu als volgt uit:</p>
<p><span class="math inline">\(sales = 8.18 + 0,0186*youtube + 0,0278*facebook + 0,0009*youtube*facebook\)</span></p>
<p>De RMSE van het interactiemodel is 1,06 wat lager is dan de 1,95 van het additieve model.Aanvullend is de <span class="math inline">\(R^2\)</span> van het interactiemodel 97% en hoger dan de 91% van het additieve model.</p>
<p>Deze resultaten suggereren dat het model met de interactieterm beter is dan het model dat alleen hoofdeffecten bevat. Voor deze specifieke data is dus het interactiemodel het aangewezen model.</p>
</section>
<section id="kruisvalidatie" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="kruisvalidatie"><span class="header-section-number">1.9</span> Kruisvalidatie</h2>
<p>Na het bouwen van een model wil je weten hoe nauwkeurig het model is bij het voorspellen van de uitkomst voor nieuwe waarnemingen die niet zijn gebruikt om het model te bouwen. Met andere woorden, je wilt de voorspellingsfout schatten. Een van de manieren voor het valideren van het model op de testgegevens is kruisvalidatie (cross-validation).</p>
<p>Kruisvalidatie staat ook bekend als een <em>resampling-methode</em> (herbemonstering) omdat het inhoudt dat dezelfde statistische methode meerdere keren wordt aangepast met behulp van verschillende subsets van de gegevens. De meest gebruikte kruisvalidatiemethodes zijn de <em>k-voudige kruisvalidatie</em> en de <em>herhaalde k-voudige kruisvalidatie</em>.</p>
<p>De statistieken die gebruikt zullen worden voor een beoordeling van de kwaliteit van een model zijn</p>
<ol type="1">
<li>R-squared (<span class="math inline">\(R^2\)</span>) : hoe hoger, hoe beter</li>
<li>RMSE (gemiddelde voorspellingsfout) : hoe lager, hoe beter</li>
<li>MEA (gemiddelde absolute fout) : hoe lager, hoe beter</li>
</ol>
<section id="k-voudige-kruisvalidatie" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="k-voudige-kruisvalidatie"><span class="header-section-number">1.9.1</span> k-voudige kruisvalidatie</h3>
<p>Deze methode evalueert de modelprestaties op verschillende subsets van de trainingsgegevens en berekent vervolgens de gemiddelde voorspellingsfoutpercentage. Het algoritme is als volgt:</p>
<ol type="1">
<li>Splits de dataset willekeurig in k-subsets (of k-voudig), bijvoorbeeld 5 subsets.</li>
<li>Reserveer één subset voor het testen en train het model op alle andere subsets.</li>
<li>Test het model op de gereserveerde subset en bepaal de voorspellingsfout</li>
<li>Herhaal dit proces totdat elk van de k subsets als testset heeft gediend.</li>
<li>Bereken het gemiddelde van de k geregistreerde fouten. Dit wordt de <em>kruisvalidatiefout</em> genoemd en dient als prestatiestatistiek voor het model.</li>
</ol>
<p>Typische vraag, is hoe de juiste waarde van k te kiezen?</p>
<p>In de praktijk voert men doorgaans een k-voudige kruisvalidatie uit met k = 5 of k = 10, aangezien empirisch is aangetoond dat deze waarden schattingen van het testfoutpercentage opleveren die niet lijden onder een extreem hoge bias of een zeer hoge variantie.</p>
<p>Met de functie <code>trainControl</code> worden de details voor de resampling gespecificeerd.</p>
<p>Syntax: <code>trainControl( method, number, repeats, ...)</code></p>
<ul>
<li><code>method</code>: De resampling methode, bijv. “boot”, “cv”, “repeatedcv”, …</li>
<li><code>number</code>: het aantal vouwen (subsets) of resampling iteraties</li>
<li><code>repeats</code>: het aantal keren dat herhaald moet worden, alleen voor methode “repeatedcv”</li>
</ul>
<p>Toegepast op het model met de interactie</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"marketing"</span>, <span class="at">package =</span> <span class="st">"datarium"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define training control</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>train.control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number =</span> <span class="dv">10</span>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the model</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>model4 <span class="ot">&lt;-</span> <span class="fu">train</span>(sales <span class="sc">~</span> youtube <span class="sc">+</span> facebook <span class="sc">+</span> youtube<span class="sc">:</span>facebook, <span class="at">data =</span> marketing, <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">trControl =</span> train.control)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the results</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(model4)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear Regression 

200 samples
  2 predictor

No pre-processing
Resampling: Cross-Validated (10 fold) 
Summary of sample sizes: 179, 180, 180, 180, 182, 180, ... 
Resampling results:

  RMSE  Rsquared  MAE  
  1.07  0.974     0.812

Tuning parameter 'intercept' was held constant at a value of TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>model4<span class="sc">$</span>finalModel</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = .outcome ~ ., data = dat)

Coefficients:
       (Intercept)             youtube            facebook  `youtube:facebook`  
          8.100264            0.019101            0.028860            0.000905  </code></pre>
</div>
</div>
</section>
<section id="herhaalde-k-voudige-kruisvalidatie" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="herhaalde-k-voudige-kruisvalidatie"><span class="header-section-number">1.9.2</span> Herhaalde k-voudige kruisvalidatie</h3>
<p>Bij deze methode wordt het proces van het splitsen van de data in k subsets een aantal keren herhaald. De uiteindelijke modelfout wordt dan de gemiddelde fout van het aantal herhalingen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define training control</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>train.control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"repeatedcv"</span>, </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">number =</span> <span class="dv">10</span>, <span class="at">repeats =</span> <span class="dv">3</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the model</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>model5 <span class="ot">&lt;-</span> <span class="fu">train</span>(sales <span class="sc">~</span> youtube <span class="sc">+</span> facebook <span class="sc">+</span> youtube<span class="sc">:</span>facebook, <span class="at">data =</span> marketing, <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">trControl =</span> train.control)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the results</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(model5)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear Regression 

200 samples
  2 predictor

No pre-processing
Resampling: Cross-Validated (10 fold, repeated 3 times) 
Summary of sample sizes: 179, 180, 180, 180, 182, 180, ... 
Resampling results:

  RMSE  Rsquared  MAE  
  1.08  0.971     0.809

Tuning parameter 'intercept' was held constant at a value of TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>model5<span class="sc">$</span>finalModel</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = .outcome ~ ., data = dat)

Coefficients:
       (Intercept)             youtube            facebook  `youtube:facebook`  
          8.100264            0.019101            0.028860            0.000905  </code></pre>
</div>
</div>


<div id="refs" class="references csl-bib-body" role="doc-bibliography" style="display: none">
<div id="ref-FisherExactTest2022" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>1</strong>. </div><div class="csl-right-inline"><span>‘<a href="https://en.wikipedia.org/w/index.php?title=Fisher%27s_exact_test&amp;oldid=1117572309">Fisher’s Exact Test</a>’</span>, <em>Wikipedia</em>, (2022).</div>
</div>
<div id="ref-UnusualObservationsOutlier" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>2</strong>. </div><div class="csl-right-inline"><span>‘<span>Unusual Observations - Outlier, Leverage, and Influential Points</span>’</span>, <a href="https://www.theopeneducator.com/doe/Regression/outlier-leverage-influential-points">https://www.theopeneducator.com/doe/Regression/outlier-leverage-influential-points</a>.</div>
</div>
<div id="ref-buijsStatistiekOmMee1991" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>3</strong>. </div><div class="csl-right-inline"><strong>Buijs, A.</strong>, <span>‘<span>Statistiek om mee te werken</span>’</span>, Third dr., <span>Stenfert Kroese</span>, (1991).</div>
</div>
<div id="ref-chouldechovaRegressionDiagnosticPlots" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>4</strong>. </div><div class="csl-right-inline"><strong>Chouldechova, A.</strong>, <span>‘Regression Diagnostic Plots’</span>, <a href="https://www.andrew.cmu.edu/user/achoulde/94842/homework/regression_diagnostics.html">https://www.andrew.cmu.edu/user/achoulde/94842/homework/regression_diagnostics.html</a>.</div>
</div>
<div id="ref-datacampLinearRegressionTutorial" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>5</strong>. </div><div class="csl-right-inline"><strong>Datacamp</strong>, <span>‘R <span>Linear Regression Tutorial</span>: Lm <span>Function</span> in <span>R</span> with <span>Code Examples</span>’</span>, <a href="https://www.datacamp.com/tutorial/linear-regression-R">https://www.datacamp.com/tutorial/linear-regression-R</a>.</div>
</div>
<div id="ref-doringFindingSuitableLinear2018" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>6</strong>. </div><div class="csl-right-inline"><strong>Döring, M.</strong>, <span>‘Finding a <span>Suitable Linear Model</span> for <span>Ozone Prediction</span>’</span>, <em>Data Science Blog</em>, 2018. <a href="https://www.datascienceblog.net/post/machine-learning/improving_ozone_prediction/">https://www.datascienceblog.net/post/machine-learning/improving_ozone_prediction/</a>.</div>
</div>
<div id="ref-doringInterpretingLinearPrediction2018" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>7</strong>. </div><div class="csl-right-inline"><strong>Döring, M.</strong>, <span>‘Interpreting <span>Linear Prediction Models</span>’</span>, <em>Data Science Blog</em>, 2018. <a href="https://www.datascienceblog.net/post/machine-learning/linear_models/">https://www.datascienceblog.net/post/machine-learning/linear_models/</a>.</div>
</div>
<div id="ref-hackerearthBeginnersGuideRegression" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>8</strong>. </div><div class="csl-right-inline"><strong>Hackerearth</strong>, <span>‘Beginners <span>Guide</span> to <span>Regression Analysis</span> and <span>Plot Interpretations</span>’</span>, <a href="https://www.hackerearth.com/practice/machine-learning/machine-learning-algorithms/beginners-guide-regression-analysis-plot-interpretations/tutorial/">https://www.hackerearth.com/practice/machine-learning/machine-learning-algorithms/beginners-guide-regression-analysis-plot-interpretations/tutorial/</a>.</div>
</div>
<div id="ref-hackerearthPracticalGuideLogistic" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>9</strong>. </div><div class="csl-right-inline"><strong>Hackerearth</strong>, <span>‘Practical <span>Guide</span> to <span>Logistic Regression Analysis</span> in <span>R</span>’</span>, <a href="https://www.hackerearth.com/practice/machine-learning/machine-learning-algorithms/logistic-regression-analysis-r/tutorial/">https://www.hackerearth.com/practice/machine-learning/machine-learning-algorithms/logistic-regression-analysis-r/tutorial/</a>.</div>
</div>
<div id="ref-kassambaraLogisticRegressionEssentials2018" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>10</strong>. </div><div class="csl-right-inline"><strong>Kassambara, A.</strong>, <span>‘Logistic <span>Regression Essentials</span> in <span>R</span>’</span>, 2018. <a href="http://www.sthda.com/english/articles/36-classification-methods-essentials/151-logistic-regression-essentials-in-r/">http://www.sthda.com/english/articles/36-classification-methods-essentials/151-logistic-regression-essentials-in-r/</a>.</div>
</div>
<div id="ref-kassambaraMachineLearningEssentials2018" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>11</strong>. </div><div class="csl-right-inline"><strong>Kassambara, A.</strong>, <span>‘Machine <span>Learning Essentials</span>: <span>Practical Guide</span> in <span>R</span>’</span>, 1st edition dr., (2018).</div>
</div>
<div id="ref-universityofvirginiaUnderstandingDiagnosticPlots" class="csl-entry" role="doc-biblioentry">
<div class="csl-left-margin"><strong>12</strong>. </div><div class="csl-right-inline"><strong>University of Virginia</strong>, <span>‘Understanding <span>Diagnostic Plots</span> for <span>Linear Regression Analysis</span> | <span>University</span> of <span>Virginia Library Research Data Services</span> + <span>Sciences</span>’</span>, <a href="https://data.library.virginia.edu/diagnostic-plots/">https://data.library.virginia.edu/diagnostic-plots/</a>.</div>
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Inleiding</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./diagnoses.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Diagnostische grafieken</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>